<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="A simple, beautiful Focus Timer based on the Pomodoro Technique. Boost your productivity with focused work sessions and regular breaks.">
    <meta name="keywords" content="pomodoro, focus timer, productivity, time management, work timer">
    <meta name="author" content="Focus Timer">
    
    <!-- Remember to add ads.txt file at root directory when hosting for AdSense -->
    
    <title>Focus Timer â€” Stay Productive with Pomodoro Technique</title>
    
    <!-- Google Fonts - Outfit -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <style>
        * {
            font-family: 'Outfit', sans-serif;
        }
        
        /* Custom animations */
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(-10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        @keyframes pulse-soft {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.02); }
        }
        
        @keyframes slideDown {
            from { opacity: 0; transform: translateY(-20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .fade-in {
            animation: fadeIn 0.5s ease-out;
        }
        
        .pulse-soft {
            animation: pulse-soft 2s ease-in-out infinite;
        }
        
        .slide-down {
            animation: slideDown 0.3s ease-out;
        }
        
        /* Progress bar animation */
        .progress-bar {
            transition: width 1s linear;
        }
        
        /* Button hover effects */
        .btn-hover {
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }
        
        .btn-hover:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 25px -5px rgba(0, 0, 0, 0.3);
        }
        
        .btn-hover:active {
            transform: translateY(0);
        }
        
        /* Modal backdrop */
        .modal-backdrop {
            backdrop-filter: blur(4px);
            animation: fadeIn 0.2s ease-out;
        }
        
        /* Custom scrollbar for modals */
        .custom-scrollbar::-webkit-scrollbar {
            width: 8px;
        }
        
        .custom-scrollbar::-webkit-scrollbar-track {
            background: #1f2937;
            border-radius: 10px;
        }
        
        .custom-scrollbar::-webkit-scrollbar-thumb {
            background: #34d399;
            border-radius: 10px;
        }
        
        .custom-scrollbar::-webkit-scrollbar-thumb:hover {
            background: #10b981;
        }
    </style>
</head>
<body class="bg-gray-900 text-white min-h-screen flex flex-col">

    <!-- Main Container -->
    <div class="flex-1 flex items-center justify-center px-4 py-8">
        <div class="w-full max-w-2xl">
            
            <!-- Logo/Header -->
            <div class="text-center mb-8 fade-in">
                <h1 class="text-4xl md:text-5xl font-bold text-emerald-400 mb-2">Focus Timer</h1>
                <p class="text-gray-400 text-sm md:text-base" id="motivationalText">Stay focused and productive</p>
            </div>

            <!-- Main Timer Card -->
            <div class="bg-gray-800 rounded-3xl shadow-2xl p-6 md:p-10 mb-6 fade-in">
                
                <!-- Mode Selector -->
                <div class="flex justify-center gap-2 md:gap-4 mb-8 flex-wrap">
                    <button onclick="switchMode('focus')" id="btn-focus" class="mode-btn px-4 md:px-6 py-2 md:py-3 rounded-xl font-medium transition-all duration-300 bg-emerald-500 text-white shadow-lg">
                        Focus
                    </button>
                    <button onclick="switchMode('shortBreak')" id="btn-shortBreak" class="mode-btn px-4 md:px-6 py-2 md:py-3 rounded-xl font-medium transition-all duration-300 bg-gray-700 text-gray-300 hover:bg-gray-600">
                        Short Break
                    </button>
                    <button onclick="switchMode('longBreak')" id="btn-longBreak" class="mode-btn px-4 md:px-6 py-2 md:py-3 rounded-xl font-medium transition-all duration-300 bg-gray-700 text-gray-300 hover:bg-gray-600">
                        Long Break
                    </button>
                </div>

                <!-- Timer Display -->
                <div class="text-center mb-8">
                    <div class="text-7xl md:text-9xl font-bold text-white mb-4 tracking-tight" id="timerDisplay">
                        25:00
                    </div>
                    
                    <!-- Progress Bar -->
                    <div class="w-full bg-gray-700 rounded-full h-2 md:h-3 overflow-hidden">
                        <div id="progressBar" class="progress-bar bg-emerald-500 h-full rounded-full" style="width: 100%"></div>
                    </div>
                </div>

                <!-- Control Buttons -->
                <div class="flex justify-center gap-3 md:gap-4 mb-6">
                    <button onclick="startTimer()" id="startBtn" class="btn-hover px-8 md:px-12 py-3 md:py-4 bg-emerald-500 hover:bg-emerald-600 rounded-xl font-semibold text-base md:text-lg shadow-lg">
                        Start
                    </button>
                    <button onclick="pauseTimer()" id="pauseBtn" class="btn-hover px-8 md:px-12 py-3 md:py-4 bg-gray-700 hover:bg-gray-600 rounded-xl font-semibold text-base md:text-lg shadow-lg hidden">
                        Pause
                    </button>
                    <button onclick="resetTimer()" class="btn-hover px-6 md:px-8 py-3 md:py-4 bg-gray-700 hover:bg-gray-600 rounded-xl font-semibold text-base md:text-lg shadow-lg">
                        Reset
                    </button>
                </div>

                <!-- Session Stats -->
                <div class="text-center">
                    <div class="inline-block bg-gray-700 px-6 py-3 rounded-xl">
                        <p class="text-sm text-gray-400 mb-1">Focus Sessions Completed</p>
                        <p class="text-3xl font-bold text-emerald-400" id="sessionCount">0</p>
                    </div>
                </div>
            </div>

            <!-- Motivational Message -->
            <div class="text-center mb-6">
                <p class="text-gray-400 text-sm md:text-base italic" id="dynamicMessage">
                    "The secret of getting ahead is getting started."
                </p>
            </div>

        </div>
    </div>

    <!-- Footer -->
    <footer class="bg-gray-800 py-6 px-4 mt-auto">
        <div class="max-w-4xl mx-auto text-center">
            <div class="flex flex-wrap justify-center gap-4 md:gap-6 mb-3 text-sm md:text-base">
                <button onclick="openModal('aboutModal')" class="text-gray-400 hover:text-emerald-400 transition-colors">About</button>
                <span class="text-gray-600">â€¢</span>
                <button onclick="openModal('privacyModal')" class="text-gray-400 hover:text-emerald-400 transition-colors">Privacy Policy</button>
                <span class="text-gray-600">â€¢</span>
                <button onclick="openModal('termsModal')" class="text-gray-400 hover:text-emerald-400 transition-colors">Terms of Service</button>
            </div>
            <p class="text-gray-500 text-xs md:text-sm">Â© 2024 Focus Timer. Stay productive, stay focused.</p>
        </div>
    </footer>

    <!-- About Modal -->
    <div id="aboutModal" class="fixed inset-0 bg-black bg-opacity-70 modal-backdrop hidden items-center justify-center z-50 px-4" onclick="closeModalOnBackdrop(event, 'aboutModal')">
        <div class="bg-gray-800 rounded-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto custom-scrollbar p-6 md:p-8 slide-down" onclick="event.stopPropagation()">
            <div class="flex justify-between items-center mb-6">
                <h2 class="text-2xl md:text-3xl font-bold text-emerald-400">About Focus Timer</h2>
                <button onclick="closeModal('aboutModal')" class="text-gray-400 hover:text-white text-3xl leading-none transition-colors">&times;</button>
            </div>
            <div class="text-gray-300 space-y-4 text-sm md:text-base leading-relaxed">
                <p>
                    <strong class="text-emerald-400">Focus Timer</strong> is a simple, elegant productivity tool based on the renowned Pomodoro Technique â€” a time management method developed by Francesco Cirillo in the late 1980s.
                </p>
                <p>
                    The technique uses a timer to break down work into focused intervals, traditionally 25 minutes in length, separated by short breaks. These intervals are known as "pomodoros," named after the tomato-shaped kitchen timer that Cirillo used as a university student.
                </p>
                <h3 class="text-xl font-semibold text-white mt-6 mb-3">How It Works</h3>
                <ul class="list-disc list-inside space-y-2 ml-2">
                    <li><strong>Focus Session (25 minutes):</strong> Dedicate your full attention to a single task without distractions.</li>
                    <li><strong>Short Break (5 minutes):</strong> Take a quick rest to recharge after each focus session.</li>
                    <li><strong>Long Break (15 minutes):</strong> After completing 4 focus sessions, enjoy a longer break to fully refresh.</li>
                </ul>
                <h3 class="text-xl font-semibold text-white mt-6 mb-3">Benefits</h3>
                <ul class="list-disc list-inside space-y-2 ml-2">
                    <li>Improves focus and concentration</li>
                    <li>Reduces mental fatigue through regular breaks</li>
                    <li>Enhances productivity and time awareness</li>
                    <li>Helps overcome procrastination</li>
                    <li>Prevents burnout with structured rest periods</li>
                </ul>
                <p class="mt-6">
                    Whether you're studying, coding, writing, or working on any task that requires deep focus, Focus Timer helps you maintain peak productivity while respecting your need for rest and recovery.
                </p>
                <p class="text-emerald-400 font-medium">
                    Start your journey to better productivity today â€” one focused session at a time.
                </p>
            </div>
        </div>
    </div>

    <!-- Privacy Policy Modal -->
    <div id="privacyModal" class="fixed inset-0 bg-black bg-opacity-70 modal-backdrop hidden items-center justify-center z-50 px-4" onclick="closeModalOnBackdrop(event, 'privacyModal')">
        <div class="bg-gray-800 rounded-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto custom-scrollbar p-6 md:p-8 slide-down" onclick="event.stopPropagation()">
            <div class="flex justify-between items-center mb-6">
                <h2 class="text-2xl md:text-3xl font-bold text-emerald-400">Privacy Policy</h2>
                <button onclick="closeModal('privacyModal')" class="text-gray-400 hover:text-white text-3xl leading-none transition-colors">&times;</button>
            </div>
            <div class="text-gray-300 space-y-4 text-sm md:text-base leading-relaxed">
                <p class="text-xs text-gray-400">Last updated: January 2024</p>
                
                <h3 class="text-xl font-semibold text-white mt-6 mb-3">Introduction</h3>
                <p>
                    Welcome to Focus Timer. We respect your privacy and are committed to protecting your personal data. This privacy policy explains how we handle your information when you use our productivity timer application.
                </p>
                
                <h3 class="text-xl font-semibold text-white mt-6 mb-3">Information We Collect</h3>
                <p>
                    Focus Timer is designed with privacy in mind. All timer data and session statistics are stored locally in your browser using localStorage. We do not collect, transmit, or store any personal information on external servers.
                </p>
                <ul class="list-disc list-inside space-y-2 ml-2">
                    <li><strong>Local Storage:</strong> Session counts and preferences are saved in your browser's local storage</li>
                    <li><strong>No Personal Data:</strong> We do not collect names, email addresses, or any personally identifiable information</li>
                    <li><strong>No Tracking:</strong> We do not use tracking cookies or analytics that identify individual users</li>
                </ul>
                
                <h3 class="text-xl font-semibold text-white mt-6 mb-3">Third-Party Services</h3>
                <p>
                    Our website may display advertisements through Google AdSense or similar services. These third-party services may use cookies and similar technologies to serve relevant ads based on your browsing activity. Please refer to their respective privacy policies for more information.
                </p>
                
                <h3 class="text-xl font-semibold text-white mt-6 mb-3">Data Security</h3>
                <p>
                    Since all data is stored locally on your device, you have full control over it. Clearing your browser data will remove all stored session information. We implement industry-standard security practices to ensure the application runs safely in your browser.
                </p>
                
                <h3 class="text-xl font-semibold text-white mt-6 mb-3">Your Rights</h3>
                <p>
                    You have the right to clear all locally stored data at any time through your browser settings. You can also choose to disable cookies and refuse third-party advertising services through your browser preferences.
                </p>
                
                <h3 class="text-xl font-semibold text-white mt-6 mb-3">Changes to This Policy</h3>
                <p>
                    We may update this privacy policy from time to time. Any changes will be posted on this page with an updated revision date. We encourage you to review this policy periodically.
                </p>
                
                <h3 class="text-xl font-semibold text-white mt-6 mb-3">Contact</h3>
                <p>
                    If you have any questions about this privacy policy or our practices, please feel free to reach out through our contact channels.
                </p>
            </div>
        </div>
    </div>

    <!-- Terms of Service Modal -->
    <div id="termsModal" class="fixed inset-0 bg-black bg-opacity-70 modal-backdrop hidden items-center justify-center z-50 px-4" onclick="closeModalOnBackdrop(event, 'termsModal')">
        <div class="bg-gray-800 rounded-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto custom-scrollbar p-6 md:p-8 slide-down" onclick="event.stopPropagation()">
            <div class="flex justify-between items-center mb-6">
                <h2 class="text-2xl md:text-3xl font-bold text-emerald-400">Terms of Service</h2>
                <button onclick="closeModal('termsModal')" class="text-gray-400 hover:text-white text-3xl leading-none transition-colors">&times;</button>
            </div>
            <div class="text-gray-300 space-y-4 text-sm md:text-base leading-relaxed">
                <p class="text-xs text-gray-400">Last updated: January 2024</p>
                
                <h3 class="text-xl font-semibold text-white mt-6 mb-3">Agreement to Terms</h3>
                <p>
                    By accessing and using Focus Timer, you accept and agree to be bound by the terms and provisions of this agreement. If you do not agree to these terms, please do not use this application.
                </p>
                
                <h3 class="text-xl font-semibold text-white mt-6 mb-3">Use License</h3>
                <p>
                    Focus Timer grants you a personal, non-exclusive, non-transferable, limited license to use this productivity timer application for your personal or professional productivity needs.
                </p>
                <p>You are permitted to:</p>
                <ul class="list-disc list-inside space-y-2 ml-2">
                    <li>Use the timer for personal productivity and time management</li>
                    <li>Access the application from multiple devices</li>
                    <li>Share links to the application with others</li>
                </ul>
                <p class="mt-3">You are not permitted to:</p>
                <ul class="list-disc list-inside space-y-2 ml-2">
                    <li>Modify, copy, or create derivative works based on the application code</li>
                    <li>Reverse engineer or attempt to extract the source code</li>
                    <li>Remove any copyright or proprietary notations</li>
                    <li>Use the application for any illegal or unauthorized purpose</li>
                </ul>
                
                <h3 class="text-xl font-semibold text-white mt-6 mb-3">Disclaimer</h3>
                <p>
                    Focus Timer is provided "as is" without any representations or warranties, express or implied. We make no representations or warranties about the accuracy, reliability, completeness, or timeliness of the timer functionality.
                </p>
                <p>
                    While we strive to maintain accurate timing, we do not guarantee that the timer will be error-free or uninterrupted. Use of this application is at your own risk.
                </p>
                
                <h3 class="text-xl font-semibold text-white mt-6 mb-3">Limitations of Liability</h3>
                <p>
                    In no event shall Focus Timer or its creators be liable for any indirect, incidental, special, consequential, or punitive damages arising out of your use or inability to use the application.
                </p>
                
                <h3 class="text-xl font-semibold text-white mt-6 mb-3">Third-Party Links and Advertisements</h3>
                <p>
                    Our application may contain advertisements and links to third-party websites or services. We are not responsible for the content, accuracy, or practices of these third parties. Your interactions with advertisers and third parties are solely between you and them.
                </p>
                
                <h3 class="text-xl font-semibold text-white mt-6 mb-3">Modifications to Service</h3>
                <p>
                    We reserve the right to modify, suspend, or discontinue the application at any time without prior notice. We may also modify these terms at any time, and such modifications shall be effective immediately upon posting.
                </p>
                
                <h3 class="text-xl font-semibold text-white mt-6 mb-3">Governing Law</h3>
                <p>
                    These terms shall be governed by and construed in accordance with applicable laws, without regard to conflict of law provisions.
                </p>
                
                <h3 class="text-xl font-semibold text-white mt-6 mb-3">Contact Information</h3>
                <p>
                    If you have any questions about these Terms of Service, please contact us through our available support channels.
                </p>
                
                <p class="mt-6 text-emerald-400">
                    By using Focus Timer, you acknowledge that you have read, understood, and agree to be bound by these Terms of Service.
                </p>
            </div>
        </div>
    </div>

    <!-- Hidden Audio for Timer Complete -->
    <audio id="timerCompleteSound" preload="auto">
        <!-- Using a data URI for a simple beep sound -->
        <source src="data:audio/wav;base64,UklGRnoGAABXQVZFZm10IBAAAAABAAEAQB8AAEAfAAABAAgAZGF0YQoGAACBhYqFbF1fdJivrJBhNjVgodDbq2EcBj+a2/LDciUFLIHO8tiJNwgZaLvt559NEAxQp+PwtmMcBjiR1/LMeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmwhBSuBzvLZiTYHGmi77eSfTRAMUKfj8LZjHAU5ktbx0H4tBSF1xe/glEILElyx6OyrWBUIQ5zd8sFuIwUug8rx3I4+CRZmvO3mnlARDFCn4/C2YxwGOZHW8dB+LQUgdcXv4JRCC" type="audio/wav">
    </audio>

    <script>
        // Timer state management
        let currentMode = 'focus';
        let timeLeft = 25 * 60; // in seconds
        let totalTime = 25 * 60;
        let timerInterval = null;
        let isRunning = false;
        let sessionCount = parseInt(localStorage.getItem('sessionCount')) || 0;
        let consecutiveSessions = 0;

        // Timer durations (in seconds)
        const durations = {
            focus: 25 * 60,
            shortBreak: 5 * 60,
            longBreak: 15 * 60
        };

        // Motivational messages
        const messages = {
            focus: [
                '"The secret of getting ahead is getting started."',
                '"Focus is the key to productivity."',
                '"One focused hour is worth two distracted."',
                '"Deep work produces deep results."',
                '"Eliminate distractions, amplify results."'
            ],
            shortBreak: [
                '"Time to rest and recharge."',
                '"A short break sharpens the mind."',
                '"Rest is productive too."',
                '"Breathe, relax, return stronger."',
                '"Small breaks, big impact."'
            ],
            longBreak: [
                '"You\'ve earned this break!"',
                '"Rest well, you\'re doing amazing."',
                '"Great work! Time to fully recharge."',
                '"Take a walk, clear your mind."',
                '"Celebrate your progress!"'
            ]
        };

        // Dynamic motivational messages based on progress
        const progressMessages = [
            "You're doing great!",
            "Keep up the excellent work!",
            "You're on fire! ðŸ”¥",
            "Productivity champion!",
            "Amazing focus today!",
            "You're crushing it!",
            "Consistency is key â€” you've got this!",
            "Another session, another win!"
        ];

        // Initialize app
        document.addEventListener('DOMContentLoaded', () => {
            updateSessionDisplay();
            updateMotivationalText();
            updateDisplay();
        });

        // Switch between modes (focus, short break, long break)
        function switchMode(mode) {
            if (isRunning) {
                pauseTimer();
            }
            
            currentMode = mode;
            timeLeft = durations[mode];
            totalTime = durations[mode];
            
            updateModeButtons();
            updateDisplay();
            updateMotivationalText();
            updateProgressBar();
        }

        // Update mode button styling
        function updateModeButtons() {
            const buttons = {
                focus: document.getElementById('btn-focus'),
                shortBreak: document.getElementById('btn-shortBreak'),
                longBreak: document.getElementById('btn-longBreak')
            };
            
            Object.keys(buttons).forEach(mode => {
                if (mode === currentMode) {
                    buttons[mode].className = 'mode-btn px-4 md:px-6 py-2 md:py-3 rounded-xl font-medium transition-all duration-300 bg-emerald-500 text-white shadow-lg';
                } else {
                    buttons[mode].className = 'mode-btn px-4 md:px-6 py-2 md:py-3 rounded-xl font-medium transition-all duration-300 bg-gray-700 text-gray-300 hover:bg-gray-600';
                }
            });
        }

        // Start the timer
        function startTimer() {
            if (isRunning) return;
            
            isRunning = true;
            document.getElementById('startBtn').classList.add('hidden');
            document.getElementById('pauseBtn').classList.remove('hidden');
            
            timerInterval = setInterval(() => {
                timeLeft--;
                updateDisplay();
                updateProgressBar();
                
                if (timeLeft <= 0) {
                    timerComplete();
                }
            }, 1000);
        }

        // Pause the timer
        function pauseTimer() {
            isRunning = false;
            clearInterval(timerInterval);
            document.getElementById('startBtn').classList.remove('hidden');
            document.getElementById('pauseBtn').classList.add('hidden');
        }

        // Reset the timer
        function resetTimer() {
            pauseTimer();
            timeLeft = durations[currentMode];
            totalTime = durations[currentMode];
            updateDisplay();
            updateProgressBar();
        }

        // Handle timer completion
        function timerComplete() {
            pauseTimer();
            playCompletionSound();
            
            // Update session count if completing a focus session
            if (currentMode === 'focus') {
                sessionCount++;
                consecutiveSessions++;
                localStorage.setItem('sessionCount', sessionCount);
                updateSessionDisplay();
                showProgressMessage();
            }
            
            // Auto-switch to next mode
            autoSwitchMode();
        }

        // Auto switch to next appropriate mode
        function autoSwitchMode() {
            if (currentMode === 'focus') {
                // After 4 focus sessions, take a long break
                if (consecutiveSessions % 4 === 0) {
                    switchMode('longBreak');
                } else {
                    switchMode('shortBreak');
                }
            } else {
                // After any break, go back to focus
                switchMode('focus');
            }
        }

        // Update timer display
        function updateDisplay() {
            const minutes = Math.floor(timeLeft / 60);
            const seconds = timeLeft % 60;
            const display = `${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
            document.getElementById('timerDisplay').textContent = display;
            
            // Update page title for easy tracking
            document.title = `${display} â€” Focus Timer`;
        }

        // Update progress bar
        function updateProgressBar() {
            const progress = (timeLeft / totalTime) * 100;
            document.getElementById('progressBar').style.width = progress + '%';
        }

        // Update session count display
        function updateSessionDisplay() {
            document.getElementById('sessionCount').textContent = sessionCount;
        }

        // Update motivational text based on current mode
        function updateMotivationalText() {
            const modeMessages = messages[currentMode];
            const randomMessage = modeMessages[Math.floor(Math.random() * modeMessages.length)];
            document.getElementById('motivationalText').textContent = randomMessage;
        }

        // Show progress message after completing a session
        function showProgressMessage() {
            const message = progressMessages[Math.floor(Math.random() * progressMessages.length)];
            const messageElement = document.getElementById('dynamicMessage');
            messageElement.textContent = message;
            messageElement.classList.add('pulse-soft');
            
            setTimeout(() => {
                messageElement.classList.remove('pulse-soft');
            }, 2000);
        }

        // Play completion sound
        function playCompletionSound() {
            const audio = document.getElementById('timerCompleteSound');
            audio.play().catch(e => {
                // Browser might block autoplay, that's okay
                console.log('Audio play prevented:', e);
            });
            
            // Visual feedback - flash the timer
            const timerDisplay = document.getElementById('timerDisplay');
            timerDisplay.classList.add('pulse-soft');
            setTimeout(() => {
                timerDisplay.classList.remove('pulse-soft');
            }, 1000);
        }

        // Modal functions
        function openModal(modalId) {
            const modal = document.getElementById(modalId);
            modal.classList.remove('hidden');
            modal.classList.add('flex');
            document.body.style.overflow = 'hidden';
        }

        function closeModal(modalId) {
            const modal = document.getElementById(modalId);
            modal.classList.add('hidden');
            modal.classList.remove('flex');
            document.body.style.overflow = 'auto';
        }

        function closeModalOnBackdrop(event, modalId) {
            if (event.target.id === modalId) {
                closeModal(modalId);
            }
        }

        // Keyboard shortcuts
        document.addEventListener('keydown', (e) => {
            // Space bar to start/pause
            if (e.code === 'Space' && e.target === document.body) {
                e.preventDefault();
                if (isRunning) {
                    pauseTimer();
                } else {
                    startTimer();
                }
            }
            
            // R to reset
            if (e.key === 'r' || e.key === 'R') {
                if (e.target === document.body) {
                    resetTimer();
                }
            }
            
            // Escape to close modals
            if (e.key === 'Escape') {
                closeModal('aboutModal');
                closeModal('privacyModal');
                closeModal('termsModal');
            }
        });

        // Prevent timer from running when page is not visible
        document.addEventListener('visibilitychange', () => {
            if (document.hidden && isRunning) {
                // Optional: pause timer when tab is not visible
                // Uncomment the line below if you want this behavior
                // pauseTimer();
            }
        });
    </script>

</body>
</html>